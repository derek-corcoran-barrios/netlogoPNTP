{
    "contents" : "---\ntitle: \"Informe Torres del Paine\"\nauthor: \"Derek Corcoran e-mail: derek.corcoran.barrios@gmail.com\" \ndate: \"December 17, 2015\"\noutput: pdf_document\ntoc: yes\nheader-includes:\n    - \\usepackage{fancyhdr}\n---\n\\addtolength{\\headheight}{1.0cm}\n\\pagestyle{fancyplain} \n\\rhead{\\includegraphics[height=1.2cm]{C:/Users/corcoranbarriosd/Documents/Paine/Original-trans.png}} \n\\renewcommand{\\headrulewidth}{0pt}\n\n```{r, echo=FALSE, message=FALSE, warning=FALSE}\nlibrary(RNetLogo)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(knitr)\n```\n\n```{r, echo=FALSE, message=FALSE, warning=FALSE, cache=TRUE}\n\nnl.path <- \"C:/Program Files (x86)/NetLogo 5.2.1\"\nNLStart(nl.path, gui=TRUE)\n\nmodel.path <- file.path(\"C:/Users/corcoranbarriosd/Documents/Paine/total.nlogo\")\nNLLoadModel(model.path)\nNLCommand(\"load-gis\")\nNLCommand(\"get-paths\")\nNLCommand(\"setup\")\n\nNLDoCommand(351, \"go\")\n\nDF <- NLDoReport(50000, \"go\", c(\"(ticks + 600) / (ticks-to-an-hour * 24)\",\"count tourists\", \"count tourists-on patch -19 -170\", \"count tourists-on patch -15 -171\", \"(count tourists-on patch -50 -80) + (count tourists-on patch -48 -78)\", \"count tourists-on patch -115 4\", \"(count tourists-on patch -11 -17) + (count tourists-on patch -8 -25)\", \"count tourists-on patch -5 39\", \"count tourists-on patch 22 -21\", \"count tourists-on patch 36 -22\", \"count tourists-on patch 96 57\", \"count tourists-on patch 73 79\", \"(count tourists-on patch 115 32) + (count tourists-on patch 115 33)\", \"count tourists-on patch 129 54\",\"(([excess] of patch 96 57)/ ticks-to-an-hour )\",\"((([excess] of patch 115 32)/ ticks-to-an-hour ) + (([excess] of patch 115 33)/ ticks-to-an-hour )) * 0.5\", \"(([excess] of patch 36 -22)/ ticks-to-an-hour )\", \"(([excess] of patch 22 -21)/ ticks-to-an-hour )\"), as.data.frame = TRUE, df.col.names = c(\"Days\", \"Total.tourists\", \"Tourists1\", \"Tourists2\", \"Tourists3\", \"Tourists4\", \"Tourists6\", \"Tourists7\", \"Tourists9\", \"Tourists10\", \"Tourists11\", \"Tourists12\", \"Tourists13\", \"Tourists14\", \"Exceso-Chileno\", \"Exceso-torre-cn\",\"Exceso-cuernos\", \"Exceso-Frances\"))\nNLCommand(\"clear-all\")\nNLQuit()\n```\n\n##Modelación basada en agentes y netlogo\n\nLa modelación basada en agentes es la simulación de acciones e interacciones de individuos autónomos dentro de un entorno, y permite determinar qué efectos producen en el sistema. Este tipo de modelo es una interacción entre teoría de juegos, sistemas complejos, emergencia, sistemas multi-agente, y programación evolutiva. Los modelos simulan las operaciones simultáneas de entidades múltiples en un intento de recrear y predecir las acciones de fenómenos complejos. Dentro de sus ventajas está el poder modelar comportamientos sumamente complejos basados en reglas relativamente sencillas y la posibilidad de trabajar en un entorno tanto espacial como temporalmente explícito.\n\n####Netlogo\n\nDentro de los entornos de programación que permiten trabajar con este tipo de modelos uno de los más utilizados es el [programa netlogo](https://ccl.northwestern.edu/netlogo/). Dentro de las múltiples ventajas de netlogo frente a programas competidores es el que es un programa abierto, con posibilidad de interactuar con el entorno estadístico del programa R y también el que además del modelo genera una interfaz gráfica de usuario, la cual permite a usuarios menos experimentados que el programador pero con mayor experiencia en el sistema manipular variables mediante a deslizadores y otros botones interactivos.\nA continuación se ve imagen del programa modelando el flujo de turistas en el Parque Torres del Paine. El significado de cada parametro y como ajustarlos se pueden leer en el [manual](https://github.com/derek-corcoran-barrios/netlogoPNTP/blob/master/Manual%20modelo%20visitantes%20PNTP.pdf).\n\n![](C:/Users/corcoranbarriosd/Documents/Paine/10142.png)\n\n##Parámetros del modelo\n\n####1. Proporción de turistas que ocupa cada sendero \n\nLos parámetros del modelo fueron ajustados de acuerdo a los datos entregados por las encuestas realizadas por la *Fundación CEQUA*, en conjunto con las varias tablas entregadas por *CONAF*\n\n####2. Capacidad de carga de los campamentos\n\nel número máximo de turistas se determinó en base al documento 15 que muestra la capacidad de acogida confirmada por *Fantástico Sur*. Estos son los únicos campamentos que basan su capacidad de carga según número de personas, por lo que fueron los únicos evaluados en esta modelación.\n\n####3. Numero total de turistas diarios\n\nSe observó el registro de ingreso de visitantes de temporada alta del Paine para la temporada 2014-2015, y para simular un mes de transito de visitantes se utilizó el mes con más turistas y se dividió por la cantidad de días totales, esto da como promedio un ingreso de 720 turistas en promedio por día, los cuales fueron separados proporcionalmente según lo mencionado en el punto 1.\n\ncon esto los parametros del modelo fueron fijados de la siguiente forma:\n\n* num-tourists-w1 24\n* num-tourists-w2 19\n* num-tourists-PG 12\n* num-tourists-PP 3\n* time-of-stay 37\n* threshold 70\n* ticks to an hour 50\n* sunrise 6\n* sunset 18\n\n## Netlogo\n\n\n\n```{r, echo=FALSE, message=FALSE, warning=FALSE}\n\nDF <- mutate(DF, day = ceiling(Days))\nDF <- mutate(DF, time = ((Days-(day-1))*24))\n\nSumDF <-summarise(group_by(DF, day), mean = mean(Total.tourists), max.tourists = max(Total.tourists), SD=(sd(Total.tourists)))\n\nggplot(SumDF, aes(x= day, y = mean)) +geom_ribbon(aes(ymax=(mean+SD), ymin=(mean-SD)), fill=\"lightblue\")+ geom_point() + geom_line() + theme_bw()+ theme(axis.line = element_line(colour = \"black\"), panel.grid.major = element_blank(),panel.grid.minor = element_blank(), panel.border = element_blank(), panel.background = element_blank()) + geom_vline(xintercept = 5, colour=\"darkgrey\", linetype = \"longdash\") + geom_abline(slope = 0, intercept = 1429, colour=\"darkgrey\")+ labs(x=\"Día\", y=\"Turistas totales en el parque (promedio)\")\n```\n\n```{r, echo=FALSE, message=FALSE, warning=FALSE}\nlibrary(stargazer)\n```\n\n```{r, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}\nDF <- filter(DF, day >= 5)\nDF1 <-(DF)\ncolnames(DF1)<- c(\"Dias\", \"Turistas totales\", \"Touristas Camp1\", \"Turistas Camp2\", \"Turistas camp3\", \"Turistas camp4\", \"Turistas camp6\", \"Touristas Camp7\", \"Turistas Camp9\", \"Turistas camp10\", \"Turistas camp11\", \"Turistas camp12\",  \"Turistas camp13\", \"Turistas camp14\", \"Exceso-Chileno\", \"Exceso-torre-cn\", \"Exceso-cuernos\",\"Exceso-Frances\",\"Día\", \"time\")\nDF1[15:18] <- DF1[15:18]/max(DF1$Dias)\nstargazer(DF1[,2:19], type = \"latex\", digits = 2, digit.separator = \".\", decimal.mark = \",\", nobs = FALSE, median = TRUE)\n\n\n```\n",
    "created" : 1450313943801.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4003007146",
    "id" : "33C9197C",
    "lastKnownWriteTime" : 1450374628,
    "path" : "~/Paine/Torres.Rmd",
    "project_path" : "Torres.Rmd",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_markdown"
}